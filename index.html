<!DOCTYPE html>

<html>

<head>
    <title></title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/starter-template.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Holtwood+One+SC|Graduate|Rock+Salt' rel='stylesheet' type='text/css'>
    <script src="js/lib/jquery-2.0.3.min.js" type="text/javascript"></script>
    <script src="js/lib/knockout-3.0.0.js" type="text/javascript"></script>
    <script src="js/lib/pager.js" type="text/javascript"></script>
    <script src="js/lib/underscore-min.js" type="text/javascript"></script>
    <script src="js/lib/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/lib/seedrandom.js" type="text/javascript"></script>
    <script src="js/lib/pickRandom.js" type="text/javascript"></script>
    <script src="js/genball.min.js" type="text/javascript"></script>
    <script src="js/game.js" type="text/javascript"></script>
    <script src="js/team.js" type="text/javascript"></script>
    <script src="js/app.js" type="text/javascript"></script>
</head>

<body>

    <nav class="navbar navbar-default">
        <div class="navbar-header">
            <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span>
            </button> <a class="navbar-brand" href="#">FAUX</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Teams</a>

                    <ul class="dropdown-menu" data-bind="foreach: teams">
                        <li>
                            <a data-bind="page-href: 'team/'+$index(), text: name"></a>
                        </li>
                    </ul>
                </li>

                <li><a data-bind="page-href: 'scores'">Scores</a>
                </li>
                <li><a data-bind="page-href: 'standings'">Standings</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container" style="padding-top: 30px;">
        <div data-bind="page: {id: 'scores', role: 'start' }">
            <div class="container">
                <div class="row">
                    <h2>Scores</h2>
                </div>
                <select data-bind="options: [0,1,2,3,4,5,6,7,8], selectedOptions: currentWeek" size="5"></select>
                <div class="row" data-bind="foreach: weeks()[viewModel.currentWeek()]">
                    <div class="col-md-6">
                        <div class="col-md-8">
                            <table class="table table-striped">
                                <colgroup>
                                    <col class="col-md-3">
                                        <col class="col-md-1">
                                            <col class="col-md-1">
                                                <col class="col-md-1">
                                                    <col class="col-md-1">

                                                        <!-- ko if: hasOT -->
                                                        <col class="col-md-1">
                                                            <!-- /ko-->

                                                            <col class="col-md-1">
                                </colgroup>

                                <thead>
                                    <tr>
                                        <th></th>

                                        <th></th>

                                        <th>1</th>

                                        <th>2</th>

                                        <th>3</th>

                                        <th>4</th>

                                        <!-- ko if: hasOT -->
                                        <th>OT</th>
                                        <!-- /ko-->
                                        <th>F</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    <tr>
                                        <td>
                                            <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="50" height="50" data-bind="html: teams['home'].logo">
                                            </svg>
                                        </td>

                                        <td>
                                            <a data-bind="page-href: '../team/'+teams['home'].id, text: teams['home'].name"></a>
                                        </td>

                                        <td data-bind="text: homeOne"></td>
                                        <td data-bind="text: homeTwo"></td>
                                        <td data-bind="text: homeThree"></td>
                                        <td data-bind="text: homeFour"></td>
                                        <!-- ko if: hasOT-->
                                        <td data-bind="text: homeOT"></td>
                                        <!-- /ko-->
                                        <td data-bind="text: homeTotal"></td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="50" height="50" data-bind="html: teams['away'].logo">
                                            </svg>
                                        </td>

                                        <td>
                                            <a data-bind="page-href: '../team/'+teams['away'].id, text: teams['away'].name"></a>
                                        </td>

                                        <td data-bind="text: awayOne"></td>
                                        <td data-bind="text: awayTwo"></td>
                                        <td data-bind="text: awayThree"></td>
                                        <td data-bind="text: awayFour"></td>
                                        <!-- ko if: hasOT-->
                                        <td data-bind="text: awayOT"></td>
                                        <!-- /ko-->
                                        <td data-bind="text: awayTotal"></td>
                                    </tr>
                                </tbody>
                            </table>

                            <div data-bind="if: plays().length > 0">
                                <h5>Last Play</h5>
                                <div>
                                    <b data-bind="text:_.last(plays()).quarter"></b>
                                    <b data-bind="text:clock(_.last(plays()).clock)"></b>
                                </div>
                                <div data-bind="text: _.last(plays()).commentary"></div>
                            </div>

                            <div>
                                <a data-bind="page-href: '../game/'+gameId">Play by play</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div data-bind="page: {id: 'standings'}">
            <div class="container">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Team</th>
                            <th>Wins</th>
                            <th>Losses</th>
                            <th>Skill</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: teamsByWins">
                        <tr>
                            <td>
                                <a data-bind="page-href: '../../team/'+id, text: name"></a>
                            </td>
                            <td data-bind="text: wins"></td>
                            <td data-bind="text: losses"></td>
                            <td data-bind="text: skill"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div data-bind="page: {id: 'game'}">
            <div data-bind="page: {id: '?', withOnShow: loadGame}">

                <div class="row">

                    <div class="col-xs-6 col-md-3">
                        <h3>
                             <small data-bind="text: teams.away.institution.name"></small>
                        </h3>
                    </div>

                    <div class="col-xs-6 col-md-3">
                        <h3>
                            <small data-bind="text: teams.home.institution.name"></small>
                        </h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6 col-md-3">
                        <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="75" height="75" data-bind="html: teams.away.logo"></svg>
                    </div>

                    <div class="col-xs-6 col-md-3">
                        <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="75" height="75" data-bind="html: teams.home.logo"></svg>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6 col-md-3">
                        <h2>
                            <a data-bind="page-href: '../../team/'+teams.away.id, text: teams.away.name"></a>
                        </h2>
                        <h2 data-bind="text: scoreboard.awayScores.total"></h2>
                    </div>

                    <div class="col-xs-6 col-md-3">
                        <h2>
                            <a data-bind="page-href: '../../team/'+teams.home.id, text: teams.home.name"></a>
                        </h2>
                        <h2 data-bind="text: scoreboard.homeScores.total"></h2>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-3">
                        <h3 class="lead" data-bind="text: teams.home.stadium"></h3>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <table class="table table-striped">
                            <colgroup>
                                <col class="col-md-3">
                                <col class="col-md-1">
                                <col class="col-md-1">
                                <col class="col-md-1">
                                <col class="col-md-1">
                                <!-- ko if: hasOT -->
                                <col class="col-md-1">
                                <!-- /ko-->
                                <col class="col-md-1">
                            </colgroup>

                            <thead>
                                <tr>
                                    <th></th>

                                    <th>1</th>

                                    <th>2</th>

                                    <th>3</th>

                                    <th>4</th>
                                    <!-- ko if: hasOT -->
                                    <th>OT</th>
                                    <!-- /ko-->
                                    <th>F</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td data-bind="text: teams.away.shortName"></td>

                                    <td data-bind="text: awayOne"></td>
                                    <td data-bind="text: awayTwo"></td>
                                    <td data-bind="text: awayThree"></td>
                                    <td data-bind="text: awayFour"></td>
                                    <!-- ko if: hasOT -->
                                    <td data-bind="text: awayOT"></td>
                                    <!-- /ko-->
                                    <td data-bind="text: awayTotal"></td>
                                </tr>

                                <tr>
                                    <td data-bind="text: teams.home.shortName"></td>

                                    <td data-bind="text: homeOne"></td>
                                    <td data-bind="text: homeTwo"></td>
                                    <td data-bind="text: homeThree"></td>
                                    <td data-bind="text: homeFour"></td>
                                    <!-- ko if: hasOT -->
                                    <td data-bind="text: homeOT"></td>
                                    <!-- /ko-->
                                    <td data-bind="text: homeTotal"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-md-6">
                        <h4>Top Performers</h4>

                        <p><b>Passing:</b>
                            <!-- ko text: topPasser() -->
                            <!-- /ko-->
                        </p>

                        <p><b>Rushing:</b>
                            <!-- ko text: topRusher() -->
                            <!-- /ko-->
                        </p>

                        <p><b>Receiving:</b>
                            <!-- ko text: topReceiver() -->
                            <!-- /ko-->
                        </p>
                    </div>
                </div>

                <div class="row">
                    <ul class="nav nav-tabs">
                        <li class="active" data-bind="if: plays().length > 0"><a data-toggle="tab" href="#play-by-play">Play-By-Play</a>
                        </li>
                    </ul>

                    <div class="tab-pane active" id="play-by-play" data-bind="if: plays().length > 0">
                        <div class="tab-content">
                            <ul class="nav nav-tabs">
                                <li class="active"><a data-toggle="tab" href="#first">1st</a>
                                </li>

                                <li data-bind="if: _.last(plays()).quarter >= 2"><a data-toggle="tab" href="#second">2nd</a>
                                </li>

                                <li data-bind="if: _.last(plays()).quarter >= 3"><a data-toggle="tab" href="#third">3rd</a>
                                </li>

                                <li data-bind="if: _.last(plays()).quarter >= 4"><a data-toggle="tab" href="#fourth">4th</a>
                                </li>

                                <li data-bind="if: _.last(plays()).quarter >= 5"><a data-toggle="tab" href="#OT">OT</a>
                                </li>

                                <li><a data-toggle="tab" href="#all">All</a>
                                </li>
                            </ul>

                            <div class="tab-pane active" id="first">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: firstPlays}"></div>
                            </div>
                            <div class="tab-pane" id="second">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: secondPlays}"></div>
                            </div>
                            <div class="tab-pane" id="third">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: thirdPlays}"></div>
                            </div>
                            <div class="tab-pane" id="fourth">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: fourthPlays}"></div>
                            </div>

                            <div class="tab-pane" id="OT">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: oTPlays}"></div>
                            </div>

                            <div class="tab-pane" id="all">
                                <div class="container" data-bind="template:{ name: 'pbpTemplate', foreach: allPlays}"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div data-bind="page: {id: 'team'}">
            <div data-bind="page: {id: '?', withOnShow: loadTeam}">
                <div class="container">
                    <div class="row">
                        <h2 class="col-md-8" data-bind="text: institution.name + ' ' + name"></h2>
                        <div class="col-md-3">
                            <svg class="pull-right" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="120" height="120" data-bind="html: logo">
                            </svg>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#roster" data-toggle="tab">Roster</a>
                        </li>
                        <li><a href="#stats" data-toggle="tab">Stats</a>
                        </li>
                        <li><a href="#coaches" data-toggle="tab">Coaches</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="roster">


                            <div class="row">
                                <h3>Roster</h3>

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>NUM</th>

                                            <th>NAME</th>
                                            <th>ELIG</th>
                                            <th>POS</th>
                                        </tr>
                                    </thead>

                                    <tbody data-bind="foreach: players">
                                        <tr>
                                            <td data-bind="text: number"></td>

                                            <td data-bind="text: fullName"></td>
                                            <td data-bind="text: year"></td>
                                            <td data-bind="text: position"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                        <div class="tab-pane" id="stats">
                            <div class="row">
                                <h3>Passing</h3>

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>NAME</th>

                                            <th>POS</th>

                                            <th>C</th>

                                            <th>PA</th>

                                            <th>%</th>

                                            <th>YDS</th>

                                            <th>TD</th>

                                            <th>INT</th>
                                        </tr>
                                    </thead>

                                    <tbody data-bind="foreach: getPassingPlayers()">
                                        <tr>
                                            <td data-bind="text: fullName"></td>

                                            <td data-bind="text: position"></td>

                                            <td data-bind="text: seasonStats['C'] || '0'"></td>

                                            <td data-bind="text: seasonStats['PA']"></td>

                                            <td data-bind="text: ((((seasonStats['C'] || 0) / (seasonStats['PA'] || 0)) || 0)*100).toFixed(1)"></td>

                                            <td data-bind="text: seasonStats['PY'] || '0'"></td>

                                            <td data-bind="text: seasonStats['PTD'] || '0'"></td>

                                            <td data-bind="text: seasonStats['INT'] || '0'"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="row">
                                <h3>Rushing</h3>

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>NAME</th>

                                            <th>POS</th>

                                            <th>CAR</th>

                                            <th>YDS</th>

                                            <th>AVG</th>

                                            <th>TD</th>
                                        </tr>
                                    </thead>

                                    <tbody data-bind="foreach: getRushingPlayers()">
                                        <tr>
                                            <td data-bind="text: fullName"></td>

                                            <td data-bind="text: position"></td>

                                            <td data-bind="text: seasonStats['RA']"></td>

                                            <td data-bind="text: seasonStats['RYDS'] || '0'"></td>

                                            <td data-bind="text: (seasonStats['RYDS'] / seasonStats['RA']).toFixed(1) || '0'"></td>

                                            <td data-bind="text: seasonStats['RTDS'] || '0'"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="row">
                                <h3>Receiving</h3>

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>NAME</th>

                                            <th>POS</th>

                                            <th>REC</th>

                                            <th>YDS</th>

                                            <th>TD</th>
                                        </tr>
                                    </thead>

                                    <tbody data-bind="foreach: getRecevingPlayers()">
                                        <tr>
                                            <td data-bind="text: fullName"></td>

                                            <td data-bind="text: position"></td>

                                            <td data-bind="text: seasonStats['R']"></td>

                                            <td data-bind="text: seasonStats['RECY'] || '0'"></td>

                                            <td data-bind="text: seasonStats['RECTD'] || '0'"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row">
                                <h3>Kicking</h3>

                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>NAME</th>

                                            <th>POS</th>

                                            <th>XPM</th>

                                            <th>XPA</th>

                                            <th>XP%</th>

                                            <th>FGM</th>

                                            <th>FGA</th>

                                            <th>FG%</th>

                                            <th>LNG</th>
                                        </tr>
                                    </thead>

                                    <tbody data-bind="foreach: getKickingPlayers()">
                                        <tr>
                                            <td data-bind="text: fullName"></td>

                                            <td data-bind="text: position"></td>

                                            <td data-bind="text: seasonStats['XPM'] || '0'"></td>

                                            <td data-bind="text: seasonStats['XPA'] || '0'"></td>

                                            <td data-bind="text: ((((seasonStats['XPM'] || 0) / (seasonStats['XPA'] || 0)) || 0)*100).toFixed(1)"></td>

                                            <td data-bind="text: seasonStats['FGM'] || '0'"></td>

                                            <td data-bind="text: seasonStats['FGA'] || '0'"></td>

                                            <td data-bind="text: ((((seasonStats['FGM'] || 0) / (seasonStats['FGA'] || 0)) || 0)*100).toFixed(1)"></td>

                                            <td data-bind="text: seasonStats['FGL'] || ''"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane" id="coaches">
                            <div class="row">
                                <h3>Coaches</h3>

                                <h5 data-bind="text: 'Head Coach: ' + coach.fullName"></h5>

                                <h5 data-bind="text: 'Offenisve Coordinator: ' + OC.fullName"></h5>

                                <h5 data-bind="text: 'Defensive Coordinator: ' + DC.fullName"></h5>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <script type="text/html" id="pbpTemplate">
            <table class="table">
                <thead>
                    <tr>
                        <td>
                            <svg class="pull-left pbp-logo" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" width="39" height="39" data-bind="html: $parents[0].teams[$data[0].possession].logo">
                            </svg>
                            <h4 data-bind="text: $data[0].possession"></h4>
                        </td>

                        <td></td>

                        <td><h4><small data-bind="text: $parents[0].teams.home.name"></small></h4></td>

                        <td><h4><small data-bind="text: $parents[0].teams.away.name"></small></h4></td>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td data-bind="text: $parents[0].downAndDistance($data[0]), style: { borderTopColor: $parents[0].teams[$data[0].possession].color}"></td>

                        <td data-bind="text: $data[0].commentary, style: { borderTopColor: $parents[0].teams[$data[0].possession].color}"></td>

                        <td data-bind="text: $data[0].homeScore, style: { borderTopColor: $parents[0].teams.home.color }"></td>

                        <td data-bind="text: $data[0].awayScore, style: { borderTopColor: $parents[0].teams.away.color }"></td>
                    </tr>
                 <!-- ko foreach: _.rest($data) -->
                    <tr>
                        <td data-bind="text: $parents[1].downAndDistance($data)"></td>

                        <td data-bind="text: commentary"></td>

                        <td data-bind="text: homeScore"></td>

                        <td data-bind="text: awayScore"></td>
                    </tr>
                     <!-- /ko-->
                 
                </tbody>
            </table>
        </script>
</body>

</html>